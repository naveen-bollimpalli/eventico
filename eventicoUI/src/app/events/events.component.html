<ngx-loading [show]="loading" ></ngx-loading>

<div class="container">
  <mat-toolbar>
    <mat-toolbar-row>
      <mat-form-field  class="half-width">
        <input  placeholder="Search Events" autocorrect="off" autocapitalize="off" spellcheck="off" type="text" class="form-control" #search [formControl]="searchControl" matInput>
      </mat-form-field>

      <span class="tollbar-splitter"></span>
      <mat-form-field>
        <input matInput [matDatepicker]="picker" placeholder="Choose a date">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker touchUi #picker></mat-datepicker>
      </mat-form-field>
    </mat-toolbar-row>
  </mat-toolbar>
  <!--<div class="form-group">-->
    <!--<input placeholder="search for location" autocorrect="off" autocapitalize="off" spellcheck="off" type="text" class="form-control" #search [formControl]="searchControl">-->
  <!--</div>-->
  <agm-map [latitude]="lat" [longitude]="lng" [scrollwheel]="false" [zoom]="zoom">
    <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
  </agm-map>
</div>

<div class="spacer"></div>
<div class="events-container">
<mat-grid-list [cols]="cols | async" gutterSize="15px" >
  <mat-grid-tile *ngFor="let event of events">
    <mat-card class="event-card">
      <img mat-card-image class="card-image" [src]="event.images['banner'].url" onerror="this.src='https://algovent-s3-static.s3.amazonaws.com/eventico/media/event_bWDUlrT.jpg'" alt="Photo of a Shiba Inu">
    <mat-card-content>
        <div class="date_name_location">
          <div class="event_date_month">
            <p class="event_month">{{event['times']['start']['month']}}</p>
            <p class="event_date">{{event['times']['start']['day_num']}}</p>
            <p class="event_day">{{event['times']['start']['day']}}</p>
          </div>
          <div class="event_name_location">
            <p class="event_name">{{event.Name}}</p>
            <a href="#" class="event_location">Phoenix Market City: Whitefield</a>
            <p class="event_price" >Rs. 999 Onwards</p>
          </div>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <button *ngIf="permissions['book_event'] == true" mat-button [routerLink]="['bookings/booking',{event_id: event.Id}]" color="#cc3333cc" >Book</button>
        <span class="toolbar-splitter"></span>
        <button mat-icon-button routerLink=""><mat-icon aria-label="Share">share</mat-icon></button>
        <button *ngIf="permissions['edit_event'] == true" mat-icon-button [routerLink]="['events/event',{id: event.Id }]"><mat-icon aria-label="Edit">edit</mat-icon></button>
      </mat-card-actions>
    </mat-card>
  </mat-grid-tile>
</mat-grid-list>
</div>
